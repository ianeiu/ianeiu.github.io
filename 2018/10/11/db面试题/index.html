<!DOCTYPE html>
<html lang="zh" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta name="generator" content="Hugo 0.46" />
  <meta charset="utf-8">
  <title>DB——面试题 · IanEiU</title>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="原文地址 click 触发器的作用 触发器是一中特殊的存储过程，主要是通过事件来触发而被执行的。它可以强化约束，来维护数据的完整性和一致性，可以跟踪数据库" />

  <meta name="keywords" content="Hugo, theme, ianeiu, 吴炜棉" />

<link rel="canonical" href="https://ianeiu.github.io/2018/10/11/db%E9%9D%A2%E8%AF%95%E9%A2%98/" />

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
<link rel="stylesheet" href="https://ianeiu.github.io/css/den.css">

<link rel="stylesheet" href="https://ianeiu.github.io/css/custom.css">




<meta property="og:title" content="DB——面试题" />
<meta property="og:description" content="原文地址 click 触发器的作用 触发器是一中特殊的存储过程，主要是通过事件来触发而被执行的。它可以强化约束，来维护数据的完整性和一致性，可以跟踪数据库" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ianeiu.github.io/2018/10/11/db%E9%9D%A2%E8%AF%95%E9%A2%98/" />



<meta property="article:published_time" content="2018-10-11T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2018-10-11T00:00:00&#43;00:00"/>











<meta itemprop="name" content="DB——面试题">
<meta itemprop="description" content="原文地址 click 触发器的作用 触发器是一中特殊的存储过程，主要是通过事件来触发而被执行的。它可以强化约束，来维护数据的完整性和一致性，可以跟踪数据库">


<meta itemprop="datePublished" content="2018-10-11T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-10-11T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="2807">



<meta itemprop="keywords" content="SQL," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="DB——面试题"/>
<meta name="twitter:description" content="原文地址 click 触发器的作用 触发器是一中特殊的存储过程，主要是通过事件来触发而被执行的。它可以强化约束，来维护数据的完整性和一致性，可以跟踪数据库"/>
</head>
<body>
  
  <div class="header-container" style="background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url('https://ianeiu.github.io/images/bg3.jpg'); background-position: center; background-size: cover;">
  <div class="container">
  <nav class="header-nav navbar navbar-expand-md navbar-dark light-dark">
    <div class="header-logo navbar-brand">
      
        <a class="float-left" href="https://ianeiu.github.io/">
      
        
        <img class="mr20 header-logo-image" src="https://ianeiu.github.io/images/avatar.ico" alt="logo">
        
        
          IanEiU
         
      </a>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="nav-menu collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        
          <li class="nav-item">
            
              
                <a class="nav-link" href="https://ianeiu.github.io/">All</a>
              
            
          </li>
        
          <li class="nav-item">
            
              
                <a class="nav-link" href="https://ianeiu.github.io/categories">分类</a>
              
            
          </li>
        
          <li class="nav-item">
            
              
                <a class="nav-link" href="https://ianeiu.github.io/tags">标签</a>
              
            
          </li>
        
          <li class="nav-item">
            
              
                <a class="nav-link" href="https://ianeiu.github.io/category/java/">Java</a>
              
            
          </li>
        
          <li class="nav-item">
            
              <a class="nav-link" href="https://ianeiu.github.io/about/">About</a>
            
          </li>
        
        
      </ul>
    </div>
  </nav>
</div>

<div class="container header-wrapper">
  <div class="row">
    <div class="col-lg-12">
      <div class="header-content">
        <h1 class="header-title">DB——面试题</h1>
        <p class="header-date">作者：
          吴炜棉 /
        
        2018-10-11
          / 分类：
          <a href="https://ianeiu.github.io/category/sql/">SQL</a>, 
            <a href="https://ianeiu.github.io/category/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a>
        </p>
        
        <div class="header-underline"></div>
        
          <div class="clearfix"></div>
          <p class="float-right header-tags">
              <i class="fas fa-tags" aria-hidden="true"></i>
              <a href="https://ianeiu.github.io/tag/sql/">SQL</a>
          </p>
        
        

      </div>
    </div>
  </div>
</div>

  </div>
  <main>
<div class="container content">
  <article>
  

<blockquote>
<p>原文地址 <a href="https://mp.weixin.qq.com/s/QR6MEF1v4QIH-muPyPNg_g" target="blank">click</a></p>
</blockquote>

<h2 id="触发器的作用">触发器的作用</h2>

<p>触发器是一中特殊的存储过程，主要是通过事件来触发而被执行的。它可以强化约束，来维护数据的完整性和一致性，可以跟踪数据库内的操作从而不允许未经许可的更新和变化。可以联级运算。如，某表上的触发器上包含对另一个表的数据操作，而该操作又会导致该表触发器被触发。</p>

<h2 id="存储过程">存储过程</h2>

<p>存储过程是一个预编译的SQL语句，优点是允许模块化的设计，就是说只需创建一次，以后在该程序中就可以调用多次。如果某次操作需要执行多次SQL，使用存储过程比单纯SQL语句执行要快。</p>

<p>调用：</p>

<ol>
<li>可以用一个命令对象来调用存储过程。</li>
<li>可以供外部程序调用，比如：java程序。</li>
</ol>

<p>优点：</p>

<ol>
<li>存储过程是预编译过的，执行效率高。</li>
<li>存储过程的代码直接存放于数据库中，通过存储过程名直接调用，减少网络通讯。</li>
<li>安全性高，执行存储过程需要有一定权限的用户。</li>
<li>存储过程可以重复使用，可减少数据库开发人员的工作量。</li>
</ol>

<p>缺点：移植性差</p>

<h2 id="存储过程与函数的区别">存储过程与函数的区别</h2>

<p>存储过程</p>

<ol>
<li>用于在数据库中完成特定的操作或者任务（如插入、删除等）<br /></li>
<li>程序头部声明用procedure</li>
<li>程序头部声明时不需描述返回类型可以使用in/out/in out 三种模式的参数</li>
<li>可作为一个独立的PL/SQL语句来执行</li>
<li>可以通过out/in out 返回零个或多个值</li>
<li>SQL语句(DML 或SELECT)中不可调用存储过程</li>
</ol>

<p>函数</p>

<ol>
<li>用于特定的数据（如选择）</li>
<li>程序头部声明用function</li>
<li>程序头部声明时要描述返回类型，而且PL/SQL块中至少要包括一个有效的return语句</li>
<li>可以使用in/out/in out 三种模式的参数</li>
<li>不能独立执行，必须作为表达式的一部分调用</li>
<li>通过return语句返回一个值，且改值要与声明部分一致，也可以是通过out类型的参数带出的变量</li>
<li>SQL语句(DML 或SELECT)中可以调用函数</li>
</ol>

<h2 id="索引">索引</h2>

<p>索引就一种特殊的查询表，数据库的搜索可以利用它加速对数据的检索。它很类似与现实生活中书的目录，不需要查询整本书内容就可以找到想要的数据。索引可以是唯一的，创建索引允许指定单个列或者是多个列。</p>

<p>缺点是它减慢了数据录入的速度，同时也增加了数据库的尺寸大小。</p>

<p>唯一、不为空、经常被查询的字段适合建索引</p>

<h2 id="索引类型">索引类型</h2>

<p>逻辑上：</p>

<ul>
<li>Single column 单行索引<br /></li>
<li>Concatenated 多行索引<br /></li>
<li>Unique 唯一索引<br /></li>
<li>NonUnique 非唯一索引<br /></li>
<li>Function-based 函数索引<br /></li>
<li>Domain 域索引 物理上<br /></li>
<li>Partitioned 分区索引<br /></li>
<li>NonPartitioned 非分区索引</li>
</ul>

<p>B-tree：</p>

<ul>
<li>Normal 正常型B树<br /></li>
<li>Rever Key 反转型B树 Bitmap 位图索引</li>
</ul>

<h2 id="事务">事务</h2>

<p>事务就是被绑定在一起作为一个逻辑工作单元的SQL语句分组，如果任何一个语句操作失败那么整个操作就被失败，以后操作就会回滚到操作前状态，或者是上有个节点。为了确保要么执行，要么不执行，就可以使用事务。要将有组语句作为事务考虑，就需要通过ACID测试，即原子性，一致性，隔离性和持久性。</p>

<h2 id="锁">锁</h2>

<p>在所以的DBMS中，锁是实现事务的关键，锁可以保证事务的完整性和并发性。与现实生活中锁一样，它可以使某些数据的拥有者，在某段时间内不能使用某些数据或数据结构。当然锁还分级别的。</p>

<h2 id="视图">视图</h2>

<p>一种虚拟的表，具有和物理表相同的功能。可以对视图进行增，改，查，操作，试图通常是有一个表或者多个表的行或列的子集。对视图的修改会影响基本表。它使得我们获取数据更容易，相比多表查询。</p>

<p>优点：</p>

<ol>
<li>对数据库的访问，因为视图可以有选择性的选取数据库里的一部分。</li>
<li>用户通过简单的查询可以从复杂查询中得到结果。</li>
<li>维护数据的独立性，试图可从多个表检索数据。</li>
<li>对于相同的数据可产生不同的视图。</li>
</ol>

<p>缺点：<br />
性能：查询视图时，必须把视图的查询转化成对基本表的查询，如果这个视图是由一个复杂的多表查询所定义，那么，那么就无法更改数据</p>

<h2 id="游标">游标</h2>

<p>对查询出来的结果集作为一个单元来有效的处理。游标可以定在该单元中的特定行，从结果集的当前行检索一行或多行。可以对结果集当前行做修改。一般不使用游标，但是需要逐条处理数据的时候，游标显得十分重要。</p>

<h2 id="表的连接方式">表的连接方式</h2>

<p>内连接、自连接、外连接（左、右、全）、交叉连接</p>

<p>内连接：只有两个元素表相匹配的才能在结果集中显示。<br />
外连接： 左外连接:左边为驱动表，驱动表的数据全部显示，匹配表的不匹配的不会显示。<br />
右外连接: 右边为驱动表，驱动表的数据全部显示，匹配表的不匹配的不会显示。<br />
全外连接：连接的表中不匹配的数据全部会显示出来。<br />
交叉连接： 笛卡尔效应，显示的结果是链接表数的乘积。</p>

<h2 id="union和union-all">union和union all</h2>

<p>UNION在进行表链接后会筛选掉重复的记录，所以在表链接后会对所产生的结果集进行排序运算，删除重复的记录再返回结果。实际大部分应用中是不会产生重复的记录，最常见的是过程表与历史表UNION。</p>

<p>UNION  ALL只是简单的将两个结果合并后就返回。这样，如果返回的两个结果集中有重复的数据，那么返回的结果集就会包含重复的数据了。</p>

<p>从效率上说，UNION ALL 要比UNION快很多，所以，如果可以确认合并的两个结果集中不包含重复的数据的话，那么就使用UNION ALL。</p>

<h2 id="数据库中查询语句速度优化">数据库中查询语句速度优化</h2>

<ol>
<li>建索引</li>
<li>减少表之间的关联</li>
<li>优化sql，尽量让sql很快定位数据，不要让sql做全表查询，应该走索引,把数据 量大的表排在前面</li>
<li>简化查询字段，没用的字段不要，已经对返回结果的控制，尽量返回少量数据</li>
<li>尽量用PreparedStatement来查询，不要用Statement</li>
</ol>

<h2 id="数据库三范式">数据库三范式</h2>

<p>第一范式：列不可再分<br />
第二范式：行可以唯一区分，主键约束<br />
第三范式：表的非主属性不能依赖与其他表的非主属性 外键约束    且三大范式是一级一级依赖的，第二范式建立在第一范式上，第三范式建立第一第二范式上</p>

<h2 id="varchar2和varchar">varchar2和varchar</h2>

<p>varchar的长度是固定的，而varchar2的长度是可以变化的，比如，存储字符串“abc”对于char(20)，表示你存储的字符将占20个字节，包含17个空，而同样的varchar2（20）只占了3个字节，20只是最大值，当你存储的字符小于20时，按实际长度存储。 char的效率要被varchar2的效率高。</p>

<p>目前varchar是varchar2的同义词，工业标准的varchar类型可以存储空字符串，但是oracle不能这样做，尽管它保留以后这样做的权利。Oracle自己开发了一个数据类型varchar2,这个类型不是一个标准的varchar，他将在数据库中varchar列可以存储空字符串的特性改为存储null值，如果你想有向后兼容的能力，oracle建议使用varchar2而不是varchar</p>

<h2 id="oracle和mysql">Oracle和Mysql</h2>

<ol>
<li>库函数不同。</li>
<li>Oracle是用表空间来管理的，Mysql不是。</li>
<li>显示当前所有的表、用户、改变连接用户、显示当前连接用户、执行外部脚本的语句的不同。</li>

<li><p>分页查询时候时候，mysql用limit oracle用rownum</p>

<pre><code>mysql&gt; SELECT * FROM table LIMIT 5,10; // 检索记录行 6-15 
//为了检索从某一个偏移量到记录集的结束所有的记录行，可以指定第二个参数为 -1：
mysql&gt; SELECT * FROM table LIMIT 95,-1; // 检索记录行 96-last. 
//如果只给定一个参数，它表示返回最大的记录行数目： 
mysql&gt; SELECT * FROM table LIMIT 5; //检索前 5 个记录行 
//换句话说，LIMIT n 等价于 LIMIT 0,n。 
</code></pre></li>

<li><p>sql的语法的不同。</p></li>
</ol>

  </article>

  
  
    
    
    
  
  


</div>

  </main><div class="footer gradient-2">
  <div class="container footer-container ">
    <div class="row">
      <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
        <div class="footer-title">网站地图</div>
        <ul class="list-unstyled">
            
              
                <li><a href="https://ianeiu.github.io/tags/">标签</a></li>
              
              
                <li><a href="https://ianeiu.github.io/categories/">分类</a></li>
              
            
            
            
            <li><a rel="alternate" type="application/rss&#43;xml" href="https://ianeiu.github.io/index.xml"><i class="fas fa-rss-square"></i> RSS订阅</a></li>
            
            
            
        </ul>
      </div>
      <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
        
        <div class="footer-title">社群</div>
        <ul class="list-unstyled">
          
          <li><a href="https://github.com/ianeiu" rel="noopener" target="_blank">GitHub</a></li>
          
        </ul>
        
      </div>
      <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
        
        <div class="footer-title">链接</div>
        <ul class="list-unstyled">
          
          <li><a href="https://github.com/ianeiu" rel="noopener" target="_blank">关于我</a></li>
          
        </ul>
        
      </div> 
      <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
        <p class="pull-right text-right">
          <small><em>Proudly powered by <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo</a></em></small><br/>
          <small><em>Theme - <a href="https://github.com/shaform/hugo-theme-den" rel="noopener" target="_blank">Den</a></em></small><br/>
          <small>
            &copy; 
            WuWeiMian
            
              2018 -
            2019
          </small>
          
        </p>
      </div>
    </div>
  </div>
</div>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

</body>
</html>
